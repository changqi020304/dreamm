<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="../../csstest/css/gouwuche.css">
</head>

<body>
	<div class="box">
		<span id="fan">&lt;返回</span>
		<span>购物车</span>
		<span>删除</span>
	</div>
	<ul>
		<li class="lione">
			<div>
				<img src="../images/assets/选择框.png" alt="" class="dian" id="dian">
				<img src="../images/assets/shangpin.png" alt="" class="chanpin">
				<p class="hahah">vivX6Plus移动联通双4G手机双卡4GB+64GB 金色</p>
				<p class="s"> ￥ 2988</p>
				<form action="">
					<p id='jian'>-</p>
					<input type="input" value="0">
					<p id='jia'>+</p>
				</form>
				<span>库存不足</span>
			</div>
		</li>
		<li>
			<div>
				<img src="../images/assets/选择框.png" alt="" class="dian" id="dian">
				<img src="../images/assets/shangpin.png" alt="" class="chanpin">
				<p class="hahah">vivX6Plus移动联通双4G手机双卡4GB+64GB 金色</p>
				<p class="s"> ￥ 2988</p>
				<form action="">
					<p id='jian'>-</p>
					<input type="input" value="0">
					<p id='jia'>+</p>
				</form>
			</div>
		</li>
		<li>
			<div>
				<img src="../images/assets/选择框.png" alt="" class="dian" id="dian">
				<img src="../images/assets/shangpin.png" alt="" class="chanpin">
				<p class="hahah">vivX6Plus移动联通双4G手机双卡4GB+64GB 金色</p>
				<p class="s"> ￥ 2988</p>
				<form action="">
					<p id='jian'>-</p>
					<input type="input" value="0">
					<p id='jia'>+</p>
				</form>
			</div>
		</li>
	</ul>
	<footer>
		<p><img src="../images/assets/选择框.png" id="quanxuan">&nbsp;&nbsp;全选</p>
		<p>总计：<span class="qina"></span><i></i>&nbsp;<span>(不含运费)</span></p>
		<button>结算</button>
	</footer>
	<script src='../script/peizhiwenjian.js'></script>
	<script src='../script/jquery-3.2.1.min.js'></script>
	<script>
		var zoj;
		var zongjia = 0;
		var xuan = document.getElementsByClassName('dian')[0];
		var t = false;
		xuan.onclick = function () {
			t = !t;
			this.src = t ? '../images/assets/选择图标.png' : '../images/assets/选择框.png';
		}




		var xuanone = document.getElementsByClassName('dian')[1];
		var two = false;
		xuanone.onclick = function () {
			two = !two;
			this.src = two ? '../images/assets/选择图标.png' : '../images/assets/选择框.png';
		}

		var xuanthree = document.getElementsByClassName('dian')[2];
		var three = false;
		xuanthree.onclick = function () {
			three = !three;
			this.src = three ? '../images/assets/选择图标.png' : '../images/assets/选择框.png';
		}

		$('html').on('click','#jia',function(){
			var val = $(this).siblings('input').val();
			val++;
			$(this).siblings('input').val(val);
			$('i').html(fn(this))
		}).on('click','#jian',function(){
			var val = $(this).siblings('input').val();
			if(val == 0) return;
			val--;
			$(this).siblings('input').val(val)
			$('i').html(fn(this))
		})
		
		function fn(name){
			var v=0;
			v = $(name).siblings('input').val();
			var c1 = $(name).parent().parent().parent().siblings('li').find('input').eq(0).val()
			var c2 = $(name).parent().parent().parent().siblings('li').find('input').eq(1).val()
			var ccr = (v*1 + c1*1 + c2*1)*2988;
			return ccr*1;
		}
		// 全选
		var q = false;
		$('#quanxuan').click(function(){
			q = !q;
			if(q){
				this.src = '../images/assets/选择图标.png';
				xuan.src = '../images/assets/选择图标.png';
				xuanone.src = '../images/assets/选择图标.png';
				xuanthree.src = '../images/assets/选择图标.png'
			}else{
				this.src = '../images/assets/选择框.png';
				xuan.src = '../images/assets/选择框.png';
				xuanone.src = '../images/assets/选择框.png';
				xuanthree.src = '../images/assets/选择框.png'
			}
		})

		fan.onclick = function(){
			location.href = 'index.html'
		}

	</script>
</body>

</html>